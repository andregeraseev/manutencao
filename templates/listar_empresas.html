<!-- listar_empresas.html -->
{% extends "base_generic.html" %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-10">
    <div class="card mt-5">
      <div class="card-header bg-primary text-white">
        <h4 class="mb-0">Lista de Empresas</h4>
      </div>
      <div class="card-body">
        <a href="{% url 'home' %}" class="btn btn-primary mb-3">Voltar para a Home</a>
        <table id="table-empresas" class="table table-striped">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>CPF/CNPJ</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for empresa in empresas %}
            <tr>
              <td>{{ empresa.id }}</td>
              <td>{{ empresa.nome }}</td>
              <td>{{ empresa.cpf_cnpj }}</td>
              <td><a href="{% url 'empresa:editar_empresa' empresa.id %}" class="btn btn-primary btn-sm">Editar</a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<link rel="stylesheet" href="https://cdn.datatables.net/1.11.4/css/dataTables.bootstrap5.min.css">

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>

<script>
$(document).ready(function() {
  $('#table-empresas').DataTable({
    "language": {
        "sEmptyTable": "Nenhum registro encontrado",
        "sInfo": "Mostrando de _START_ até _END_ de _TOTAL_ registros",
        "sInfoEmpty": "Mostrando 0 até 0 de 0 registros",
        "sInfoFiltered": "(Filtrados de _MAX_ registros)",
        "sInfoPostFix": "",
        "sInfoThousands": ".",
        "sLengthMenu": "_MENU_ resultados por página",
        "sLoadingRecords": "Carregando...",
        "sProcessing": "Processando...",
        "sZeroRecords": "Nenhum registro encontrado",
        "sSearch": "Pesquisar",
        "oPaginate": {
            "sNext": "<i class='fas fa-angle-double-right'></i>",
            "sPrevious": "<i class='fas fa-angle-double-left'></i>",
            "sFirst": "Primeiro",
            "sLast": "Último"
        },
        "oAria": {
            "sSortAscending": ": Ordenar colunas de forma ascendente",
            "sSortDescending": ": Ordenar colunas de forma descendente"
        }
    }
  });
});
</script>

{% endblock %}
